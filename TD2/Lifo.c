#include <stdio.h> 
#include <stdlib.h> 
#include <string.h>

typedef struct Element Element;
struct Element {
	int data;
    Element *next;
};

typedef struct Stack Stack;
struct Stack {
    Element *head;
};

Element * Element_new(int value){
	Element * ptr = (Element *) malloc(sizeof(Element)); 
	ptr->data = value;
	return ptr;
}

Stack * Stack_new(){
	Stack * ptr = (Stack *) malloc(sizeof(Stack)); 
	ptr->head = NULL;
	return ptr;
}

void Stack_push (Stack *stk, int nb){
	Element *e = Element_new(nb);
	e -> next = stk -> head;
	stk -> head = e;
}

int Stack_pop (Stack *stk, int* save){
	if (stk -> head == NULL){
		return -1;
	}else {
		*save = stk -> head;
		stk -> head = stk -> head -> next;
		return 0;
	}

}

void Stack_print(Stack *stk){
   Element *el = stk->head;
   int content;
   while (el!=NULL){
      content = el->data;
      printf("%d \n", content);
      el = el->next;
   }
   printf("\n");
}

int main(){

	int save;
	Stack *s = Stack_new();
	Stack_push(s,3);
	Stack_push(s,5);
	Stack_push(s,1);
	Stack_print(s);
	Stack_pop(s,&save);
	Stack_pop(s,&save);
	Stack_print(s);

}
